<h2>
    Students
</h2>
  
  <dx-data-grid
  [width]="800"
  [dataSource]="dataSource"
  [columnMinWidth]="100"
  [selection]="{ mode: 'single' }"
  [hoverStateEnabled]="true"
  [allowColumnResizing]="true"
  [columnResizingMode]="'widget'"
  [columnAutoWidth]="true"
  [showRowLines]="true"
  [paging]="{ enabled: true, pageSize: 5 }"
  [scrolling]="{ showScrollbar: 'always' }"
  [height]="'auto'"
  [masterDetail] = "{ enabled: true, template: 'templateMasterDetail', autoExpandAll: false }"
  (onCellPrepared)="onCellPrepared($event)"
  (onContentReady)="onContentReady($event)"
  (onRowInserted)="onRowInserted($event)"
  (onRowRemoved)="onRowRemoved($event)"
  (onRowUpdated)="onRowUpdated($event)"
  (onRowInserting)="onRowInserting($event)"
  >
  <dxo-paging [enabled]="true" [pageIndex]="0" [pageSize]="5"></dxo-paging>
  <dxo-pager 
  [showPageSizeSelector]="true"
  [allowedPageSizes]="[5, 10, 20]"
  [visible]="true"
  [showInfo]="true">
  </dxo-pager>
  
  <dxo-editing mode="popup" [allowUpdating]="true" [allowAdding]="true" [allowDeleting]="true">
      <dxo-popup title="Edit Students" [showTitle]="true" [width]="800" [height]="500"></dxo-popup>
  </dxo-editing>
  
  <dxi-column dataField="firstname" caption="First Name"></dxi-column>
  <dxi-column dataField="lastname" caption="Last Name"></dxi-column>
  <dxi-column dataField="username" caption="Username"></dxi-column>
  <dxi-column dataField="email" caption="Email"></dxi-column>

  <div *dxTemplate="let item of 'templateMasterDetail'">
      <h3>Courses</h3>
      <dx-data-grid
      [width]="600"
      [dataSource]="item.data.courses"
      [columnMinWidth]="100"
      [selection]="{ mode: 'single' }"
      [hoverStateEnabled]="true"
      [allowColumnResizing]="true"
      [columnResizingMode]="'widget'"
      [columnAutoWidth]="true"
      [showRowLines]="true"
      [paging]="{ enabled: true, pageSize: 5 }"
      [scrolling]="{ showScrollbar: 'always' }"
      [height]="'auto'"
      (onCellPrepared)="onCellPrepared($event)"
      (onContentReady)="onContentReady($event)"
      (onRowInserted)="onRowInserted($event)"
      (onRowRemoved)="onRowRemoved($event)"
      (onRowUpdated)="onRowUpdated($event)"
      >
      <dxo-paging [enabled]="true" [pageIndex]="0" [pageSize]="5"></dxo-paging>
      <dxo-pager 
      [showPageSizeSelector]="true"
      [allowedPageSizes]="[5, 10, 20]"
      [visible]="true"
      [showInfo]="true">
      </dxo-pager>
      
      <dxo-editing mode="popup" [allowUpdating]="true" [allowAdding]="true" [allowDeleting]="true">
          <dxo-popup title="Edit Courses" [showTitle]="true" [width]="800" [height]="500"></dxo-popup>
      </dxo-editing>
      
      <dxi-column dataField="name" caption="Name"></dxi-column>
      <dxi-column dataField="code" caption="Code"></dxi-column>
      <dxi-column dataField="ects" caption="ECTS" dataType="number" format="0#.0"></dxi-column>
      <dxi-column dataField="description" caption="Description"></dxi-column>
      
      </dx-data-grid>
    </div>

  </dx-data-grid>